

<section layout:decorate="~{layouts/layout}" layout:fragment="content">
    <div th:insert="~{fragments/logout :: logout}"></div>
    <span><a th:href="@{/user}">User list</a></span>
    <div>
        <form method="post">
            <input type="text" name="text" placeholder="Введите сообщение" />
            <input type="text" name="tag" placeholder="Тэг">
            <div><input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" /></div>
            <button type="submit">Добавить</button>
        </form>
    </div>
    <div>Список сообщений</div>
    <form method="get" action="/main">
        <input type="text" name="filter" value="${filter}">
<!--        <div><input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" /></div>-->
        <button type="submit">Найти</button>
    </form>
    <div th:each="message : ${messages}">
        <b th:text="${message.id}">ID</b>
        <span th:text="${message.text}">Text</span>
        <i th:text="${message.tag}">Tag</i>
        <strong th:text="${message.authorName}">Author</strong>
    </div>
</section>